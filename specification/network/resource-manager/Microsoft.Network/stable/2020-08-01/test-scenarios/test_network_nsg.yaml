scope: ResourceGroup
testScenarios:
  - description: test_network_nsg
    steps:
      - step: Create_networkSecurityGroups_test-nsg1
        resourceName: networkSecurityGroups_test-nsg1
        exampleFile: ../examples/Create_networkSecurityGroups_test-nsg1_Generated.json
        operationId: NetworkSecurityGroups_CreateOrUpdate
      - step: Create_securityRules_web
        resourceName: securityRules_web
        exampleFile: ../examples/Create_securityRules_web_Generated.json
        operationId: SecurityRules_CreateOrUpdate
      - step: NetworkSecurityGroups_ListAll_872
        exampleFile: ../examples/NetworkSecurityGroups_ListAll_872_Generated.json
        operationId: NetworkSecurityGroups_ListAll
      - step: NetworkSecurityGroups_List_873
        exampleFile: ../examples/NetworkSecurityGroups_List_873_Generated.json
        operationId: NetworkSecurityGroups_List
      - step: NetworkSecurityGroups_Get_874
        exampleFile: ../examples/NetworkSecurityGroups_Get_874_Generated.json
        operationId: NetworkSecurityGroups_Get
      - step: SecurityRules_Get_875
        exampleFile: ../examples/SecurityRules_Get_875_Generated.json
        operationId: SecurityRules_Get
      - step: Update_securityRules_web_877
        resourceName: securityRules_web
        operationId: SecurityRules_CreateOrUpdate
        resourceUpdate:
          - replace: /properties
            value:
              description: greatrule
              protocol: Tcp
              sourcePortRange: 1234-1235
              destinationPortRange: 1234-1235
              sourceAddressPrefix: '111'
              destinationAddressPrefix: '111'
              access: Deny
              priority: 888
              direction: Outbound
              provisioningState: Succeeded
              sourcePortRanges: []
              destinationPortRanges: []
              sourceAddressPrefixes: []
              destinationAddressPrefixes: []
      - step: Update_securityRules_web_879
        resourceName: securityRules_web
        operationId: SecurityRules_CreateOrUpdate
        resourceUpdate:
          - replace: /properties/description
            value: cool
      - step: SecurityRules_Delete_880
        exampleFile: ../examples/SecurityRules_Delete_880_Generated.json
        operationId: SecurityRules_Delete
      - step: NetworkSecurityGroups_Delete_881
        exampleFile: ../examples/NetworkSecurityGroups_Delete_881_Generated.json
        operationId: NetworkSecurityGroups_Delete
      - step: NetworkSecurityGroups_List_882
        exampleFile: ../examples/NetworkSecurityGroups_List_882_Generated.json
        operationId: NetworkSecurityGroups_List
    variables:
      networkSecurityGroupName: test-nsg1
      securityRuleName: web
