scope: ResourceGroup
testScenarios:
  - description: test_appgw_private_endpoint_with_overwrite_default
    steps:
      - step: Create_publicIPAddresses_appgw_ip
        resourceName: publicIPAddresses_appgw_ip
        exampleFile: ../examples/Create_publicIPAddresses_appgw_ip_Generated_9.json
        operationId: PublicIPAddresses_CreateOrUpdate
      - step: Create_virtualNetworks_appgw_private_endpoint_vnet
        resourceName: virtualNetworks_appgw_private_endpoint_vnet
        exampleFile: >-
          ../examples/Create_virtualNetworks_appgw_private_endpoint_vnet_Generated_11.json
        operationId: VirtualNetworks_CreateOrUpdate
      - step: Subnets_Get_12
        exampleFile: ../examples/Subnets_Get_2_Generated.json
        operationId: Subnets_Get
      - step: Create_subnets_appgw_private_endpoint_subnet
        resourceName: subnets_appgw_private_endpoint_subnet
        exampleFile: >-
          ../examples/Create_subnets_appgw_private_endpoint_subnet_Generated.json
        operationId: Subnets_CreateOrUpdate
      - step: ApplicationGateways_Get_14
        exampleFile: ../examples/ApplicationGateways_Get_14_Generated.json
        operationId: ApplicationGateways_Get
      - step: VirtualNetworks_Get_15
        exampleFile: ../examples/VirtualNetworks_Get_15_Generated.json
        operationId: VirtualNetworks_Get
        variables:
          virtualNetworkName: appgwVnet
      - step: Create_privateEndpoints_appgw_private_endpoint
        resourceName: privateEndpoints_appgw_private_endpoint
        exampleFile: >-
          ../examples/Create_privateEndpoints_appgw_private_endpoint_Generated_17.json
        operationId: PrivateEndpoints_CreateOrUpdate
      - step: PrivateEndpoints_Delete_18
        exampleFile: ../examples/PrivateEndpoints_Delete_7_Generated.json
        operationId: PrivateEndpoints_Delete
    variables:
      publicIpAddressName: appgw_ip
      virtualNetworkName: appgw_private_endpoint_vnet
      subnetName: appgw_private_endpoint_subnet
      applicationGatewayName: appgw
      privateEndpointName: appgw_private_endpoint
