scope: ResourceGroup
testScenarios:
  - description: test_network_app_gateway_waf_policy_setting
    steps:
      - step: Create_ApplicationGatewayWebApplicationFirewallPolicies_agp1
        resourceName: ApplicationGatewayWebApplicationFirewallPolicies_agp1
        exampleFile: >-
          ../examples/Create_ApplicationGatewayWebApplicationFirewallPolicies_waf_1_Generated.json
        statusCode: 201
        operationId: WebApplicationFirewallPolicies_CreateOrUpdate
      - step: Update_ApplicationGatewayWebApplicationFirewallPolicies_agp1_328
        resourceName: ApplicationGatewayWebApplicationFirewallPolicies_agp1
        operationId: WebApplicationFirewallPolicies_CreateOrUpdate
        resourceUpdate:
          - replace: /properties/policySettings
            value:
              state: Enabled
              mode: Prevention
              requestBodyCheck: false
              maxRequestBodySizeInKb: 128
              fileUploadLimitInMb: 64
    variables:
      policyName: agp1
